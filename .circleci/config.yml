version: 2
jobs:
  test:
    docker:
      - image: circleci/python:3.6.4 # 仮想環境を定義、dockerが使われることがほとんど
    steps:
      - checkout # コードをレポジトリからチェックアウト
      - run:
          command: sudo pip install -r requirements.txt
      - run:
          command: nosetests tests/math-test.py

  # build:
  #   working_directoyr: ~/python-ci 
  #   docker:　
  #     - image: circleci/python:3.6.4 # 仮想環境を定義、dockerが使われることがほとんど
  #   steps:
  #     - checkout # コードをレポジトリからチェックアウト
  #     - run:
  #         command: sudo pip install -r requirements.txt
  #     - run:
  #         command: nosetests tests/math-test.py

  workflows:
    test_workflow:
      jobs:
        - test